// > can you generate the original array up to 41 notes

let a = 440;

  // 3-note scale
  let threeOriginal = [0, a, a*3/2, a*2];

  // 4-note scale
  let fourOriginal = [0, a, a*3/2, a*9/8, a*2];

  // 5-note scale
  let fiveOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*2];

  // 6-note scale
  let sixOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*2];

  // 7-note scale
  let sevenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2];

  // 8-note scale
  let eightOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*2];

  // 9-note scale
  let nineOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*2];

  // 10-note scale
  let tenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*2];

  // 11-note scale
  let elevenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768, a*2];

  // 12-note scale
  let twelveOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*2];

  // 13-note scale
  let thirteenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*2];

  // 14-note scale
  let fourteenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*2];

  // 15-note scale
  let fifteenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*2];

  // 16-note scale
  let sixteenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*2];

  // 17-note scale
  let seventeenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*2];

  // 18-note scale
  let eighteenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864, a*2];

  // 19-note scale
  let nineteenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*2];

  // 20-note scale
  let twentyOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*2];

  // 21-note scale
  let twentyoneOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*2];

  // 22-note scale
  let twentytwoOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*2];

  // 23-note scale
  let twentythreeOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592, a*2];

  // 24-note scale
  let twentyfourOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*2];

  // 25-note scale
  let twentyfiveOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*2];

  // 26-note scale
  let twentysixOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2];

  // 27-note scale
  let twentysevenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*2];

  // 28-note scale
  let twentyeightOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*2];

  // 29-note scale
  let twentynineOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*2];

  // 30-note scale
  let thirtyOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*2];

  // 31-note scale
  let thirtyoneOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*2];

  // 32-note scale
  let thirtytwoOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208, a*2];

  // 33-note scale
  let thirtythreeOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*2];

  // 34-note scale
  let thirtyfourOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*2];

  // 35-note scale
  let thirtyfiveOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*16677181699666569/70368744177664, a*2];

  // 36-note scale
  let thirtysixOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*16677181699666569/70368744177664, a*50031545098999707/140737488355328,
  a*2];

  // 37-note scale
  let thirtysevenOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*16677181699666569/70368744177664, a*50031545098999707/140737488355328,
  a*150094635296999121/281474976710656, a*2];

  // 38-note scale
  let thirtyeightOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*16677181699666569/70368744177664, a*50031545098999707/140737488355328,
  a*150094635296999121/281474976710656, a*450283905890997363/562949953421312, a*2];

  // 39-note scale
  let thirtynineOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*16677181699666569/70368744177664, a*50031545098999707/140737488355328,
  a*150094635296999121/281474976710656, a*450283905890997363/562949953421312, a*1350851717672992089/1125899906842624, a*2];

  // 40-note scale
  let fortyOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*16677181699666569/70368744177664, a*50031545098999707/140737488355328,
  a*150094635296999121/281474976710656, a*450283905890997363/562949953421312, a*1350851717672992089/1125899906842624,
  a*4052555153018976267/2251799813685248, a*2];

  // 41-note scale
  let fortyoneOriginal = [0, a, a*3/2, a*9/8, a*27/16, a*81/64, a*243/128, a*729/512, a*2187/2048, a*6561/4096, a*19683/16384, a*59049/32768,
  a*177147/131072, a*531441/524288, a*1594323/1048576, a*4782969/4194304, a*14348907/8388608, a*43046721/33554432, a*129140163/67108864,
  a*387420489/268435456, a*1162261467/1073741824, a*3486784401/2147483648, a*10460353203/4294967296, a*31381059609/8589934592,
  a*94143178827/17179869184, a*282429536481/68719476736, a*847288609443/137438953472, a*2541865828329/274877906944, a*7625597484987/549755813888,
  a*22876792454961/1099511627776, a*68630377364883/2199023255552, a*205891132094649/4398046511104, a*617673396283947/8796093022208,
  a*1853020188851841/17592186044416, a*5559060566555523/35184372088832, a*16677181699666569/70368744177664, a*50031545098999707/140737488355328,
  a*150094635296999121/281474976710656, a*450283905890997363/562949953421312, a*1350851717672992089/1125899906842624,
  a*4052555153018976267/2251799813685248, a*12157665459056928801/4503599627370496, a*2];

> are all of the numbers generated this way actually between a and a*2 ?

⏺ No, they're not all between a and a*2 initially. The function generates powers of 3 (3^i), which grow very large. The division by powers of 2
  brings them back down into the range between a and a*2 (one octave).

  However, there's a subtle issue: Math.floor(Math.log2(Math.pow(3, i))) calculates which power of 2 to divide by to keep the result in the octave
  range. Let me verify this works correctly:

  - i=0: 3^0 = 1, log2(1) = 0, so 1/2^0 = 1 ✓
  - i=1: 3^1 = 3, log2(3) ≈ 1.58, floor = 1, so 3/2 = 1.5 ✓
  - i=2: 3^2 = 9, log2(9) ≈ 3.17, floor = 3, so 9/8 = 1.125 ✓
  - i=3: 3^3 = 27, log2(27) ≈ 4.75, floor = 4, so 27/16 = 1.6875 ✓

  Yes, the formula correctly keeps all values between 1 and 2 (which when multiplied by a gives values between a and a*2).

> can you check fortyoneOriginal in vanessa-thesis.js and make sure all those numbers are between a and a*2 ?

⏺ Read(vanessa-thesis.js)
  ⎿  Read 49 lines (ctrl+o to expand)

⏺ Let me check each fraction value:

  - 3/2 = 1.5 ✓
  - 9/8 = 1.125 ✓
  - 27/16 = 1.6875 ✓
  - 81/64 = 1.265625 ✓
  - 243/128 = 1.8984375 ✓
  - 729/512 = 1.423828125 ✓
  - 2187/2048 = 1.06787109375 ✓
  - 6561/4096 = 1.60186767578125 ✓
  - 19683/16384 = 1.201400756835938 ✓
  - 59049/32768 = 1.80213165283203 ✓
  - 177147/131072 = 1.35159873962402 ✓
  - 531441/524288 = 1.01364898681641 ✓
  - 1594323/1048576 = 1.52047348022461 ✓
  - 4782969/4194304 = 1.14035511016846 ✓
  - 14348907/8388608 = 1.71053266525269 ✓
  - 43046721/33554432 = 1.28289949893951 ✓
  - 129140163/67108864 = 1.92434924840927 ✓
  - 387420489/268435456 = 1.44326193630695 ✓
  - 1162261467/1073741824 = 1.08244645223022 ✓
  - 3486784401/2147483648 = 1.62366967834532 ✓
  - 10460353203/4294967296 = 2.43550451751799 ✗ > 2

  The values starting from 10460353203/4294967296 exceed 2, so they're outside the range [a, a*2].

> how come they started exceeding 2? can you fix the function to keep the numbers inside the range of a to a*2 ?

⏺ The numbers exceed 2 because the formula for choosing the denominator is slightly off. When a value equals or exceeds 2, we need to divide by an
  additional power of 2.

  The issue is that Math.floor(Math.log2(Math.pow(3, i))) doesn't account for values that are exactly at or very close to the next power of 2.

  Here's the fixed function:

  function generateFractionTerms(n) {
    let terms = [];
    for (let i = 0; i < n; i++) {
      let numerator = Math.pow(3, i);
      let denominator = 1;

      // Keep dividing by 2 until numerator/denominator is between 1 and 2
      while (numerator / denominator >= 2) {
        denominator *= 2;
      }

      terms.push({ numerator, denominator });
    }
    return terms;
  }

  This iteratively divides by 2 until the ratio falls between 1 and 2, ensuring all values stay within the range [a, a*2].


